<p><em>exeline.txt</em>           For Vim version 7.3 Last change: 2015 October</p>

<pre><code>      EXELINE    by Rom Grk
</code></pre>

<p>Help on exeline                         <em>exeline-help</em></p>

<ol>
<li>Intro        |exeline-intro|</li>
<li>Autocmd          |exeline-autocmd|</li>
<li>Extension        |exeline-extend|</li>
<li>Examples         |exeline-examples|</li>
</ol>

<p>==============================================================================
1. Intro                            <em>exeline-intro</em></p>

<p>An exeline is like a modeline, but instead of setting style properties, it
execute commands on save.</p>

<p>Exeline looks for the pattern <code>!::CMD</code> <code>[ARGS]</code> in the first 10 lines and the
last 5 lines of a file. <code>CMD</code> is a word, and <code>ARGS</code> is anything (and optionnal). </p>

<p>==============================================================================
2. Autocommand events                                    <em>exeline-autocmd</em></p>

<p>There is only one autocommand by default: >
    augroup Exeline
        au!
        au BufWritePost * call exeline#find()
    augroup END
<Very basic: it looks for an exeline to run; does nothing if there isn't.
NOTE: <code>exeline#find</code> finds at most one exeline.</p>

<p>You could define new autocommands, e.g. BufWritePre, as follow >
    au BufWritePre  *.foo call exeline#find()
<This could be useful, for example, if you wanted to have a script that
would delete trailing whitespaces before saving the file. Such a script
could be implemented like... <code>(see</code> <code>next</code> <code>section)</code></p>

<p>==============================================================================
3. Extension                                              <em>exeline-extend</em>
~
You can define exelines by defining a function as follow: ></p>

<pre><code>let exeline = {}
fu! exeline.foo (expression)
    echo a:expression
endfu
</code></pre>

<p>Or as this (!> will only work if defined in a file named <code>exeline.vim</code>) ></p>

<pre><code>function! exeline#foo (expression)
    echo a:expression
endfunction
</code></pre>

<p>&lt;
In both cases, having the pattern <code>!::foo</code> <code>[bar]</code> in a file would 
echo 'bar'. </p>

<p>==============================================================================
4. Examples &amp; defaults                   <em>exeline-defaults</em>  <em>exeline-examples</em>
~
Auto-source vimscript file: >
    !::exe [so %]</p>

<p>Output HTML generated by current markdown file in parent directory: >
    !::md [..]</p>

<p>>
 vim:tw=78:ts=8:ft=help:norl:</p>
